{"ast":null,"code":"var _jsxFileName = \"C:\\\\devBox\\\\marketsurveyapp\\\\client\\\\src\\\\components\\\\GoogleSignIn\\\\GoogleSignIn.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport { GoogleLogin, GoogleLogout } from 'react-google-login'; //using a HTML <script> for GoogleOAuth does not work in React\n\nconst useStyles = makeStyles(theme => ({\n  buttonBox: {\n    border: \"1px solid black\"\n  }\n})); //For testing Jest\n\nexport function productTestFunction(a, b) {\n  return a * b;\n}\nexport function arrayTestFunction(a) {\n  let testArray = new Array(a.length);\n  testArray = a.map(function (currVal, index) {\n    return `${index}: ${currVal}`;\n  });\n  console.log(testArray); //Outputs to Jest test console\n\n  return testArray;\n}\nexport function GoogleSignIn(props) {\n  const classes = useStyles(); //getBasicProfile() is a method to get info from GId that signed in\n\n  function onSignIn(googleUser) {\n    var profileParameters = [];\n    var profile = googleUser.getBasicProfile();\n    profileParameters.splice(0, 0, profile.getId()); // Do not send to your backend! Use an ID token instead.\n\n    profileParameters.splice(1, 0, profile.getName());\n    profileParameters.splice(2, 0, profile.getImageUrl());\n    profileParameters.splice(3, 0, profile.getEmail()); // This is null if the 'email' scope is not present.\n\n    console.log(profileParameters);\n    renderProfile(profileParameters);\n  } //getBasicProfile() is a method to get info from GId that signed in\n\n\n  function onSignInFailure() {\n    console.log(\"Login failed!\");\n  }\n\n  function renderProfile(parameters) {\n    var profileParameterNames = [\"ID\", \"Name\", \"Image URL\", \"Email\"];\n    var renderedItems = [];\n    var numberOfRenderedItems = parameters.length;\n    var renderTarget = document.getElementById(\"userDetails\");\n\n    for (let i = 0; i < numberOfRenderedItems; ++i) {\n      var childDiv = document.createElement(\"div\");\n      childDiv.appendChild(document.createTextNode(`${profileParameterNames[i]}: ${parameters[i]}`));\n      renderTarget.appendChild(childDiv);\n      renderedItems.splice(renderedItems.length, 0, childDiv);\n    }\n\n    return renderedItems; //For testing only\n  }\n\n  function onSignOut() {\n    console.log('User signed out.');\n    /**Triggers page refresh */\n\n    window.parent.location = window.parent.location.href;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Login/logout tester\"), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"264618720481-jsdkhtj62lvt1agk3ejk1qec1vmtkp3b.apps.googleusercontent.com\",\n    buttonText: \"Google Login\",\n    onSuccess: onSignIn,\n    onFailure: onSignInFailure,\n    cookiePolicy: 'single_host_origin',\n    isSignedIn: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(GoogleLogout, {\n    clientId: \"264618720481-jsdkhtj62lvt1agk3ejk1qec1vmtkp3b.apps.googleusercontent.com\",\n    buttonText: \"Logout\",\n    onLogoutSuccess: onSignOut,\n    render: renderProps =>\n    /*#__PURE__*/\n\n    /**Remove \"render\" to render the default Google sign in button*/\n    React.createElement(\"button\", {\n      onClick: renderProps.onClick,\n      disabled: renderProps.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Custom Google button\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Details of signee\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"userDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["C:/devBox/marketsurveyapp/client/src/components/GoogleSignIn/GoogleSignIn.js"],"names":["React","useEffect","useState","makeStyles","Box","Button","Typography","GoogleLogin","GoogleLogout","useStyles","theme","buttonBox","border","productTestFunction","a","b","arrayTestFunction","testArray","Array","length","map","currVal","index","console","log","GoogleSignIn","props","classes","onSignIn","googleUser","profileParameters","profile","getBasicProfile","splice","getId","getName","getImageUrl","getEmail","renderProfile","onSignInFailure","parameters","profileParameterNames","renderedItems","numberOfRenderedItems","renderTarget","document","getElementById","i","childDiv","createElement","appendChild","createTextNode","onSignOut","window","parent","location","href","renderProps","onClick","disabled"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }  from \"react\";\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport { \r\n    Box, \r\n    Button,\r\n    Typography \r\n} from \"@material-ui/core\";\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login'; //using a HTML <script> for GoogleOAuth does not work in React\r\n\r\nconst useStyles = makeStyles(theme => ({ \r\n    buttonBox:{\r\n        border: \"1px solid black\"\r\n    }\r\n}))\r\n\r\n//For testing Jest\r\nexport function productTestFunction(a, b){\r\n    return a*b\r\n}\r\nexport function arrayTestFunction(a){\r\n    let testArray = new Array(a.length)\r\n\r\n    testArray = a.map(function (currVal, index) {\r\n        return `${index}: ${currVal}`;\r\n    })\r\n    console.log(testArray) //Outputs to Jest test console\r\n    return testArray\r\n}\r\n\r\nexport function GoogleSignIn(props) {\r\n    const classes = useStyles();\r\n\r\n    //getBasicProfile() is a method to get info from GId that signed in\r\n    function onSignIn(googleUser) {\r\n        var profileParameters = []\r\n        \r\n        var profile = googleUser.getBasicProfile();\r\n        profileParameters.splice(0, 0, profile.getId()) // Do not send to your backend! Use an ID token instead.\r\n        profileParameters.splice(1, 0, profile.getName())\r\n        profileParameters.splice(2, 0, profile.getImageUrl())\r\n        profileParameters.splice(3, 0, profile.getEmail()) // This is null if the 'email' scope is not present.\r\n\r\n        console.log(profileParameters);\r\n        renderProfile(profileParameters);\r\n    }\r\n    //getBasicProfile() is a method to get info from GId that signed in\r\n    function onSignInFailure() {\r\n        console.log(\"Login failed!\")\r\n    }\r\n    function renderProfile(parameters){\r\n        var profileParameterNames = [\"ID\", \"Name\", \"Image URL\", \"Email\"];\r\n        var renderedItems = [];\r\n        var numberOfRenderedItems = parameters.length;\r\n        var renderTarget = document.getElementById(\"userDetails\");\r\n        \r\n        for (let i=0; i<numberOfRenderedItems; ++i) {\r\n            var childDiv = document.createElement(\"div\");\r\n            childDiv.appendChild(document.createTextNode(`${profileParameterNames[i]}: ${parameters[i]}`));\r\n            renderTarget.appendChild(childDiv);\r\n            renderedItems.splice(renderedItems.length, 0, childDiv)\r\n        }\r\n\r\n        return renderedItems; //For testing only\r\n    }\r\n    function onSignOut() {\r\n        console.log('User signed out.');\r\n        /**Triggers page refresh */\r\n        window.parent.location = window.parent.location.href;\r\n    }\r\n\r\n  return (\r\n    <div>\r\n        <h1>Login/logout tester</h1>\r\n        <GoogleLogin\r\n            clientId=\"264618720481-jsdkhtj62lvt1agk3ejk1qec1vmtkp3b.apps.googleusercontent.com\"\r\n            buttonText=\"Google Login\"\r\n            onSuccess={onSignIn}\r\n            onFailure={onSignInFailure}\r\n            cookiePolicy={'single_host_origin'}\r\n            isSignedIn={true}\r\n        />\r\n        <GoogleLogout\r\n            clientId=\"264618720481-jsdkhtj62lvt1agk3ejk1qec1vmtkp3b.apps.googleusercontent.com\"\r\n            buttonText=\"Logout\"\r\n            onLogoutSuccess={onSignOut}\r\n            render={renderProps => (\r\n                /**Remove \"render\" to render the default Google sign in button*/\r\n                <button onClick={renderProps.onClick} disabled={renderProps.disabled}>Custom Google button</button>\r\n            )}\r\n        />\r\n        <h1>Details of signee</h1>\r\n        <div id=\"userDetails\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}